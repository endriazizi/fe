import{a as o}from"./chunk-GFZYCKTP.js";import{u as n,y as i}from"./chunk-O7BVPMTN.js";var m=(()=>{let e=class e{constructor(){this.storage=i(o),this.favorites=[],this.HAS_LOGGED_IN="hasLoggedIn",this.HAS_SEEN_TUTORIAL="hasSeenTutorial"}hasFavorite(t){return this.favorites.indexOf(t)>-1}addFavorite(t){this.favorites.push(t)}removeFavorite(t){let r=this.favorites.indexOf(t);r>-1&&this.favorites.splice(r,1)}login(t){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(t),window.dispatchEvent(new CustomEvent("user:login"))))}signup(t){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(t),window.dispatchEvent(new CustomEvent("user:signup"))))}logout(){return this.storage.remove(this.HAS_LOGGED_IN).then(()=>this.storage.remove("username")).then(()=>{window.dispatchEvent(new CustomEvent("user:logout"))})}setUsername(t){return this.storage.set("username",t)}getUsername(){return this.storage.get("username").then(t=>t)}isLoggedIn(){return this.storage.get(this.HAS_LOGGED_IN).then(t=>t===!0)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();export{m as a};
//# sourceMappingURL=chunk-C6XTORT5.js.map
