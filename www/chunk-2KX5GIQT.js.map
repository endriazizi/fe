{"version":3,"sources":["node_modules/@ionic/core/dist/esm/ion-img.entry.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { r as registerInstance, c as createEvent, h, d as Host, g as getElement } from './index-4DxY6_gG.js';\nimport { b as inheritAttributes } from './helpers-8KSQQGQy.js';\nimport { b as getIonMode } from './ionic-global-CTSyufhF.js';\nconst imgCss = \":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}\";\nconst Img = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.ionImgWillLoad = createEvent(this, \"ionImgWillLoad\", 7);\n    this.ionImgDidLoad = createEvent(this, \"ionImgDidLoad\", 7);\n    this.ionError = createEvent(this, \"ionError\", 7);\n    this.inheritedAttributes = {};\n    this.onLoad = () => {\n      this.ionImgDidLoad.emit();\n    };\n    this.onError = () => {\n      this.ionError.emit();\n    };\n  }\n  srcChanged() {\n    this.addIO();\n  }\n  componentWillLoad() {\n    this.inheritedAttributes = inheritAttributes(this.el, ['draggable']);\n  }\n  componentDidLoad() {\n    this.addIO();\n  }\n  addIO() {\n    if (this.src === undefined) {\n      return;\n    }\n    if (typeof window !== 'undefined' && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'isIntersecting' in window.IntersectionObserverEntry.prototype) {\n      this.removeIO();\n      this.io = new IntersectionObserver(data => {\n        /**\n         * On slower devices, it is possible for an intersection observer entry to contain multiple\n         * objects in the array. This happens when quickly scrolling an image into view and then out of\n         * view. In this case, the last object represents the current state of the component.\n         */\n        if (data[data.length - 1].isIntersecting) {\n          this.load();\n          this.removeIO();\n        }\n      });\n      this.io.observe(this.el);\n    } else {\n      // fall back to setTimeout for Safari and IE\n      setTimeout(() => this.load(), 200);\n    }\n  }\n  load() {\n    this.loadError = this.onError;\n    this.loadSrc = this.src;\n    this.ionImgWillLoad.emit();\n  }\n  removeIO() {\n    if (this.io) {\n      this.io.disconnect();\n      this.io = undefined;\n    }\n  }\n  render() {\n    const {\n      loadSrc,\n      alt,\n      onLoad,\n      loadError,\n      inheritedAttributes\n    } = this;\n    const {\n      draggable\n    } = inheritedAttributes;\n    return h(Host, {\n      key: 'da600442894427dee1974a28e545613afac69fca',\n      class: getIonMode(this)\n    }, h(\"img\", {\n      key: '16df0c7069af86c0fa7ce5af598bc0f63b4eb71a',\n      decoding: \"async\",\n      src: loadSrc,\n      alt: alt,\n      onLoad: onLoad,\n      onError: loadError,\n      part: \"image\",\n      draggable: isDraggable(draggable)\n    }));\n  }\n  get el() {\n    return getElement(this);\n  }\n  static get watchers() {\n    return {\n      \"src\": [\"srcChanged\"]\n    };\n  }\n};\n/**\n * Enumerated strings must be set as booleans\n * as Stencil will not render 'false' in the DOM.\n * The need to explicitly render draggable=\"true\"\n * as only certain elements are draggable by default.\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/draggable.\n */\nconst isDraggable = draggable => {\n  switch (draggable) {\n    case 'true':\n      return true;\n    case 'false':\n      return false;\n    default:\n      return undefined;\n  }\n};\nImg.style = imgCss;\nexport { Img as ion_img };"],"mappings":"2KAMA,IAAMA,EAAS,qMACTC,EAAM,KAAM,CAChB,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,eAAiBE,EAAY,KAAM,iBAAkB,CAAC,EAC3D,KAAK,cAAgBA,EAAY,KAAM,gBAAiB,CAAC,EACzD,KAAK,SAAWA,EAAY,KAAM,WAAY,CAAC,EAC/C,KAAK,oBAAsB,CAAC,EAC5B,KAAK,OAAS,IAAM,CAClB,KAAK,cAAc,KAAK,CAC1B,EACA,KAAK,QAAU,IAAM,CACnB,KAAK,SAAS,KAAK,CACrB,CACF,CACA,YAAa,CACX,KAAK,MAAM,CACb,CACA,mBAAoB,CAClB,KAAK,oBAAsBC,EAAkB,KAAK,GAAI,CAAC,WAAW,CAAC,CACrE,CACA,kBAAmB,CACjB,KAAK,MAAM,CACb,CACA,OAAQ,CACF,KAAK,MAAQ,SAGb,OAAO,OAAW,KAAe,yBAA0B,QAAU,8BAA+B,QAAU,mBAAoB,OAAO,0BAA0B,WACrK,KAAK,SAAS,EACd,KAAK,GAAK,IAAI,qBAAqBC,GAAQ,CAMrCA,EAAKA,EAAK,OAAS,CAAC,EAAE,iBACxB,KAAK,KAAK,EACV,KAAK,SAAS,EAElB,CAAC,EACD,KAAK,GAAG,QAAQ,KAAK,EAAE,GAGvB,WAAW,IAAM,KAAK,KAAK,EAAG,GAAG,EAErC,CACA,MAAO,CACL,KAAK,UAAY,KAAK,QACtB,KAAK,QAAU,KAAK,IACpB,KAAK,eAAe,KAAK,CAC3B,CACA,UAAW,CACL,KAAK,KACP,KAAK,GAAG,WAAW,EACnB,KAAK,GAAK,OAEd,CACA,QAAS,CACP,GAAM,CACJ,QAAAC,EACA,IAAAC,EACA,OAAAC,EACA,UAAAC,EACA,oBAAAC,CACF,EAAI,KACE,CACJ,UAAAC,CACF,EAAID,EACJ,OAAOE,EAAEC,EAAM,CACb,IAAK,2CACL,MAAOC,EAAW,IAAI,CACxB,EAAGF,EAAE,MAAO,CACV,IAAK,2CACL,SAAU,QACV,IAAKN,EACL,IAAKC,EACL,OAAQC,EACR,QAASC,EACT,KAAM,QACN,UAAWM,EAAYJ,CAAS,CAClC,CAAC,CAAC,CACJ,CACA,IAAI,IAAK,CACP,OAAOK,EAAW,IAAI,CACxB,CACA,WAAW,UAAW,CACpB,MAAO,CACL,IAAO,CAAC,YAAY,CACtB,CACF,CACF,EAQMD,EAAcJ,GAAa,CAC/B,OAAQA,EAAW,CACjB,IAAK,OACH,MAAO,GACT,IAAK,QACH,MAAO,GACT,QACE,MACJ,CACF,EACAX,EAAI,MAAQD","names":["imgCss","Img","hostRef","registerInstance","createEvent","inheritAttributes","data","loadSrc","alt","onLoad","loadError","inheritedAttributes","draggable","h","Host","getIonMode","isDraggable","getElement"],"x_google_ignoreList":[0]}